<div class="auth" style="display:flex; flex-direction: column; align-content: space-around; height:100%"
     ng-init="show.login = 'login'" ng-show="!$parent.data.auth.uid">
    <h1 style="width:100%; text-align: center; flex: 1 1 80px">
        <b>A portal into the Cannabis industry.</b>
    </h1>
    <div style="display: flex;  flex: 1 1 80px">
        <div style="flex: 1 1 auto; padding: 1em">
            <div class="panel deep-bg"><h3>{{'scannabis' | uppercase}} brings the action to you.</h3>
                <p></p>
                <p>For the Scannabis relaunch, we're focusing on deliveries. Sign up as a consumer and check the supply
                    in
                    your city (yo Vic!). This also means opportunities for couriers and providers as we intend to share
                    income with our crowdsourcing models.</p>
                <div style="max-width: 400px; display:flex;">
                    <img src="http://ninebot.shoparena.pl/public/assets/37-512.png" style="flex: 1 1 auto">
                    <img src="https://cdn0.iconfinder.com/data/icons/huge-business-icons/512/Trade.png"
                         style="flex: 1 1 auto">
                    <img src="http://esuasivecouk.c.presscdn.com/wp-content/uploads/2014/05/chat-simple-black-icon-512.png"
                         style="flex: 1 1 auto">
                </div>
                <p> Join today and experience a sophisticated and easy approach.
                </p></div>
            <p><b ng-show="show.login === 'newAccount'">Create a new account or
                <button ng-click="show.login = 'login'" class="tertiary">login</button>
                .
            </b></p>
        </div>
        <div style="flex: 1 1 auto; padding: 1em">
            <div ng-show="show.login === 'login'" class="black-bg panel">
                <h3>Login here</h3>

                <form name="login" ng-submit="data.methods.login(auth.login)">
                    <div style="display:flex; width:100%">
                        <label for="login-email">Email<input id="login-email" type="email" ng-model="auth.login.email"
                                                        placeholder="email"/></label>
                        <label for="login-pass">Password<input id="login-pass" type="password" ng-model="auth.login.pass"
                                                       placeholder="password"/></label>
                    </div>
                    <button class="think" type="submit" style="width:100%;">Sign in</button>

                </form>
            </div >
            <div ng-show="show.login === 'newAccount'" class="panel black-bg" style="width:100%;">
                <h3>Create a new account</h3>
                <h2>Only your email is required for participation.</h2>
                <small>Give enough info to verify your identity and legit standing for your customers, clients, and providers.</small>

                <form name="register" ng-submit="auth.register.secure = $root.secure || null; data.methods.register(auth.register);"
                      style="display: flex; width:100%; flex-direction:column; align-content:stretch; flex-wrap: wrap">
                    <p>

                    </p><p>How will you use Scannabis? Select at least one.</p>

                    <p style="width:100%; display: flex; justify-content: space-between; text-align: center">
                        <span style="flex: 1 1 33%" ng-repeat="type in ['consumer', 'provider', 'courier']">
                            <button type="button"
                                    ng-click="auth.register.userType[type] =! auth.register.userType[type]" href="">
                                <span style="font-weight: {{auth.register.userType[type] ? 800 : 400}}">{{type}}</span>
                            </button>
                        </span>
                    </p>
                    <div style="display:flex; width: 100%">
                        <label style="flex: 1 1 auto;" for="register-email"><input id="register-email" type="email"
                                                                                   ng-model="auth.register.email"
                                                                                   placeholder="email" required
                        /></label>
                        <label for="login-register"><input id="login-register" style="flex: 1 1 auto;" type="password"
                                                           ng-model="auth.register.pass" placeholder="password" required
                        /></label>
                    </div>
                    <div>
                        <p style="display:flex;flex-wrap: wrap">
                            <label for="first-name" style="flex: 1 1 auto;">Your first name. <input id="first-name"
                                                                                                    type="text"
                                                                                                    ng-model="auth.register.firstName"
                                                                                                    placeholder="What is your first name?"
                                                                                                    ></label>
                            <label for="last-name" style="flex: 1 1 auto;"><input id="last-name" type="text"
                                                                                  ng-model="auth.register.lastName"
                                                                                  placeholder="What is your last name?"
                                                                                  ></label>
                        </p>
                        <p>
                            <input type="tel" ng-model="auth.register.address.mobile" placeholder="Mobile number">
                        <p>
                            <label>
                        <p>Upload a valid snap or scan of your government issue identification</p>
                        <uploader name="identification"></uploader>
                        <p ng-if="$root.secure.identification">
                            <img ng-src="{{$root.secure.raw.identification}}" style="width:100%;">
                        </p>
                        </label>
                        <label><p>Upload a valid snap or scan of your government issued license to participate in the
                            Cannabis or related markets.</p>
                            <uploader name="authorization"></uploader>
                            <p ng-if="$root.secure.authorization">
                                <img ng-src="{{$root.secure.raw.authorization}}" style="width:100%;">
                            </p>
                        </label></p>
                        </p>

                        <div ng-if="auth.register.userType['provider']">
                            <p style="display:flex;">
                                <input type="text" ng-model="auth.register.businessName"
                                       placeholder="What is your business name?" required style="flex: 1 1 auto">
                                <input type="tel" ng-model="auth.register.address.phone"
                                       placeholder="Business phone number" required style="flex: 1 1 auto">
                            </p>
                            <p style="width: 100%">
                                <label>
                            <p>Upload a valid snap or scan of your government-issued licensing for operating a
                                business.</p>
                            <uploader name="licensing"></uploader>
                            <p>
                            <p ng-if="$root.secure.licensing">
                                <img ng-src="{{$root.secure.raw.licensing}}" style="width:100%;">
                            </p>
                        </div>

                        <div ng-if="auth.register.userType['courier']">
                            <div>
                                <input type="tel" ng-model="auth.register.address.mobile" placeholder="Mobile number"
                                       required>
                                <p><label>
                                <p>Upload a clear picture of yourself for sending to people awaiting a delivery from
                                    you.</p>
                                <uploader ng-if="!auth.register.userType['provider']" name="profile"></uploader>
                                <p ng-if="$root.secure.profile">
                                    <img ng-src="{{$root.secure.raw.profile}}" style="width:100%;">
                                </p></label>
                                <label><p>Upload a valid snap or scan of your government issued license to participate
                                    in the Cannabis market.</p>
                                    <uploader name="authorization"></uploader>
                                    <p ng-if="$root.secure.authorization">
                                        <img ng-src="{{$root.secure.raw.authorization}}" style="width:100%;">
                                    </p></label></p>
                            </div>
                        </div>
                        <div>
                            <h5>Address</h5>
                            <input type="number" ng-model="auth.register.address.streetNumber"
                                   placeholder="Street Number"
                                   >
                            <input type="text" ng-model="auth.register.address.streetName" placeholder="Street"
                                   >
                            <input type="text" ng-model="auth.register.address.streetContinued"
                                   placeholder="Street Continued"
                                   >
                            <input type="text" ng-model="auth.register.address.city" placeholder="City" required>
                            <input type="text" ng-model="auth.register.address.postal" placeholder="Postal Code"
                                   >
                            <input type="text" ng-model="auth.register.address.province" placeholder="Province"
                                   >
                        </div>
                    </div>
                    <button style="width:100%;" type="submit" ng-disabled="!auth.register.userType">Register</button>
                </form>
            </div>
            <p style="width: 100%; text-align: center" ng-show="show.login === 'login'">

                <button class="snow" ng-click="show.login = 'newAccount'" style="width:100%;">Create a new account</button>

            </p>
        </div>
    </div>
</div>
<div ng-show="data.auth.uid" style="display: flex; flex-direction: column">
    <!--<div>{{data.test.users[data.auth.uid]}}</div>-->
    <div style="width:100%; padding: 1em; display: flex;flex-direction: row;" class="smart-bg panel" >
        <h3>Edit your profile
            <button class="secondary" ng-click="data.methods.logout()">Logout</button></h3>
        <form name="editProfile" ng-submit="$root.secure? data.test.users[data.auth.uid].secure = $root.secure : null; data.methods.save('users', data.auth.uid, data.test.users[data.auth.uid]);" style="display: flex; width:100%; flex-wrap: wrap; justify-content: space-between">
            <div style="display:flex; width: 100%">
                <label for="user-email"><input id="user-email" type="email"
                                               ng-model="data.test.users[data.auth.uid].email" placeholder="email"
                                               required
                                               style="flex: 1 1 auto;"/> Email</label>
                <!-- TODO reset password-->
            </div>
            <div>
                <p style="display:flex;flex-direction: column;flex-wrap: wrap">
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].firstName"
                           placeholder="What is your first name?"  style="flex: 1 1 auto;"> Given Name
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].lastName"
                           placeholder="What is your last name?"  style="flex: 1 1 auto;"> Family Name</p>
                <p>
                    <input type="tel" ng-model="data.test.users[$parent.data.auth.uid].address.mobile"
                           placeholder="Mobile number" > Mobile Number
                <p>
                    <label class="white-bg panel">
                <div>Upload a new snap or scan of your government issue identification</div>
                <uploader name="identification"></uploader>
                <p ng-if="$root.secure.identification">
                    <img ng-src="{{$root.secure.raw.identification}}" style="width:100%;">
                </p>
                </label>
                <label><p>Upload a new snap or scan of your government issued license to participate in the Cannabis or
                    related markets.</p>
                    <uploader name="authorization"></uploader>
                    <p ng-if="$root.secure.authorization">
                        <img ng-src="{{$root.secure.raw.authorization}}" style="width:100%;">
                    </p>
                </label></p>
                </p>
                <p>How will you use Scannabis? Select at least one.</p>
                        <span ng-repeat="type in ['consumer', 'provider', 'courier']">
                            <button type="button" class="secondary"
                                    ng-click="data.test.users[$parent.data.auth.uid].userType[type] =! data.test.users[$parent.data.auth.uid].userType[type]">
                                <span style="font-weight: {{data.test.users[data.auth.uid].userType[type] ? 900 : 400}}; {{data.test.users[data.auth.uid].userType[type] ? '$tertiary' : null}} ; ">{{type}}</span>
                            </button>
                            <span ng-show="$last">?</span>
                        </span>
                <div ng-if="data.test.users[$parent.data.auth.uid].userType['provider']">
                    <p style="display:flex;">
                        <input type="text" ng-model="data.test.users[$parent.data.auth.uid].businessName"
                               placeholder="What is your business name?" required style="flex: 1 1 auto">
                        <input type="tel" ng-model="data.test.users[$parent.data.auth.uid].address.phone"
                               placeholder="Business phone number" required style="flex: 1 1 auto">
                    </p>
                    <p style="width: 100%">
                        <label>
                    <p>Upload a new snap or scan of your government-issued licensing for operating a business.</p>
                    <uploader name="licensing"></uploader>
                    <p>
                    <p ng-if="$root.secure.licensing">
                        <img ng-src="{{$root.secure.raw.licensing}}" style="width:100%;">
                    </p>
                </div>

                <div ng-if="data.test.users[$parent.data.auth.uid].userType['courier']">
                    <div>
                        <input type="tel" ng-model="data.test.users[$parent.data.auth.uid].address.mobile"
                               placeholder="Mobile number" required>
                        <p><label>
                        <p>Upload a new picture of yourself for sending to people awaiting a delivery from you.</p>
                        <uploader ng-if="!data.test.users[$parent.data.auth.uid].userType['provider']"
                                  name="profile"></uploader>
                        <p ng-if="$root.secure.profile">
                            <img ng-src="{{$root.secure.raw.profile}}" style="width:100%;">
                        </p></label>
                        <label><p>Upload a valid snap or scan of your government issued license to participate in the
                            Cannabis market.</p>
                            <uploader name="authorization"></uploader>
                            <p ng-if="$root.secure.authorization">
                                <img ng-src="{{$root.secure.raw.authorization}}" style="width:100%;">
                            </p></label></p>
                    </div>
                </div>
                <div>
                    <h5>Address</h5>
                    <input type="number" ng-model="data.test.users[$parent.data.auth.uid].address.streetNumber"
                           placeholder="Street Number"
                           >
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].address.streetName"
                           placeholder="Street" >
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].address.streetContinued"
                           placeholder="Street Continued"
                           >
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].address.city" placeholder="City"
                           required>
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].address.postal"
                           placeholder="Postal Code" >
                    <input type="text" ng-model="data.test.users[$parent.data.auth.uid].address.province"
                           placeholder="Province" >
                </div>
            </div>
            <hr>
            <button style="width:100%;" type="submit" ng-disabled="!data.test.users[$parent.data.auth.uid].userType">
                Save
            </button>
        </form>
    </div>

</div>

<hr>
<br>